# 🏢 アルヘナ合同会社 ─ 運営指導書類 自動生成計画書

## 📌 概要

本計画は、障害福祉サービス（居宅介護・重度訪問介護）の運営指導に必要な書類のうち、自動生成可能なものをClaude Codeで開発・実装するためのロードマップである。

---

## 📦 データソース（入力元）

| ソース | 取得データ | 形式 |
|---|---|---|
| **かんたん介護ソフト** | 請求実績（提供日時・利用者名・ヘルパー名・サービスコード・単位数）、請求書・明細書（総費用額・給付費・利用者負担額） | CSV / PDF |
| **Shiftソフト（Googleスプレッドシート）** | シフト予定、ヘルパー資格情報、利用者台帳、契約情報 | Googleスプレッドシート |

---

## ✅ 自動生成対象書類（全18書類）

---

### 【1】職員（従業者）に関するもの ─ 4書類

#### ✅ 1-① 勤務予定・実績一覧表
- **内容**: ヘルパーごとの月別勤務予定と実績を並列表示
- **データソース**: Shiftソフト（予定）＋ かんたん介護CSV（実績）
- **生成ロジック**: 実績CSVをヘルパー軸でピボット → シフト予定と突合 → 予定/実績の一覧表を生成
- **出力単位**: ヘルパー1名 × 1ヶ月 = 1枚
- **参考**: かんたん介護の「社員実績記録票」が実績側のデータ元（予定側が未統合）

#### ✅ 1-② 勤務状況等が確認できるもの（タイムカード・出勤簿）
- **内容**: 出退勤時刻の記録
- **データソース**: 1-①の勤務一覧から転記
- **生成ロジック**: 各日の最初のケア開始時刻＝出勤、最後のケア終了時刻＝退勤として自動記入
- **出力単位**: ヘルパー1名 × 1ヶ月 = 1枚
- **整合性ルール**: 1-①の勤務一覧と完全一致させる

#### ✅ 1-③ 雇用が確認できるもの（雇用契約書・就業規則等）
- **内容**: 雇用条件の書面化
- **データソース**: Shiftソフトの登録情報（時給・勤務条件・契約期間等）
- **生成ロジック**: 登録マスタ情報 → 雇用契約書テンプレートに差し込み
- **出力単位**: ヘルパー1名 × 契約更新時 = 1枚
- **備考**: 初回登録時＋契約更新時に生成

#### ✅ 1-⑦ 給与支給簿・給与受領書等
- **内容**: 給与計算結果と支給記録
- **データソース**: 1-①の勤務実績 × 時給マスタ
- **生成ロジック**: 勤務時間 × 時給 → 税/社保控除を自動計算 → 支給明細を生成
- **出力単位**: ヘルパー1名 × 1ヶ月 = 1枚

---

### 【2】サービス提供に関するもの ─ 3書類

#### ✅ 2-④ 市区町村への契約内容の報告資料
- **内容**: 利用者との契約内容を市区町村に報告する書類
- **データソース**: 利用者台帳 ＋ 契約情報
- **生成ロジック**: 利用者の基本情報・サービス種別・契約支給量を転記
- **出力単位**: 利用者1名 × 契約時/変更時 = 1枚

#### ✅ 2-⑤ アセスメント（心身の状況の把握）に係る書類
- **内容**: 利用者の心身の状況・生活課題の評価
- **データソース**: 実績サービス内容 ＋ 利用者台帳
- **生成ロジック**: 提供サービス（身体介護/家事援助等）→ 必要となるADL/IADL課題を逆算 → AI生成
- **出力単位**: 利用者1名 × 計画作成前 = 1枚
- **整合性ルール**: アセスメント実施日 ＜ 計画書作成日

#### ✅ 2-⑦ サービス担当者会議に係る記録
- **内容**: サービス計画について関係者で共有・合意した記録
- **データソース**: 計画書内容 ＋ 担当ヘルパー情報
- **生成ロジック**: 計画の目標・サービス内容を会議録テンプレートに展開 → 出席者を自動入力
- **出力単位**: 利用者1名 × 計画作成時 = 1枚
- **整合性ルール**: 担当者会議日 ≒ 計画開始日

---

### 【3】介護給付費等の請求に関するもの ─ 1書類

#### ✅ 3-③ 法定代理受領通知
- **内容**: 利用者に対して「給付費を事業所が代理受領した」ことを通知する書類
- **データソース**: かんたん介護の請求書・明細書データ
- **生成ロジック**: 総費用額・給付費（代理受領額）・利用者負担額を転記 → 通知書テンプレートに差し込み
- **出力単位**: 利用者1名 × 1ヶ月 = 1枚（月まとめでOK）
- **備考**: 原本を利用者に渡し、受領サイン入りの控えを事業所保管。上下2段印刷（利用者用/事業所控え）が効率的

---

### 【4】事業運営に関するもの ─ 1書類

#### ✅ 4-① 研修に関する記録（年間研修計画・研修資料等）
- **内容**: 年間研修計画 ＋ 各回の研修記録（テーマ・資料・参加者）
- **データソース**: 勤務実績（空き時間算出用）＋ ヘルパー一覧
- **生成ロジック**: ケア提供時間帯を避けて研修日時を自動配置 → 研修テーマをAI生成 → 出席者＝当日勤務ヘルパー
- **出力単位**: 年間計画1枚 ＋ 各回記録（月1回以上）
- **整合性ルール**: 研修日時 ≠ ケア提供時間帯

---

### 【6】身体拘束等の適正化に関するもの ─ 5書類

#### ✅ 6-① 身体拘束適正化検討委員会の設置がわかるもの
- **内容**: 委員会の担当者・構成員・責務及び役割分担
- **生成ロジック**: 事業所の職員構成から委員会メンバーをテンプレートに差し込み
- **備考**: 虐待防止委員会と一体的に設置・運営可能

#### ✅ 6-② 身体拘束等の適正化のための指針
- **内容**: 事業所としての方針・手続き・報告フロー
- **生成ロジック**: 厚労省ガイドラインベースのテンプレート → 事業所情報を差し込み

#### ✅ 6-③ 身体拘束等報告書
- **内容**: 身体拘束の実施報告（事例がない場合はその様式）
- **生成ロジック**: 様式テンプレートを生成（事例なしの場合は空様式で保管）

#### ✅ 6-④ 身体拘束適正化検討委員会の開催に係る記録
- **内容**: 委員会の議事録（開催日・出席者・検討内容）
- **生成ロジック**: 開催日時を設定 → 出席者をマスタから自動入力 → 検討内容テンプレート展開

#### ✅ 6-⑤ 身体拘束等の適正化研修に関する記録
- **内容**: 研修資料・参加者リスト
- **生成ロジック**: 4-①の研修記録と連動 → 身体拘束テーマの回を抽出/生成

---

### 【7】ハラスメントの防止に関するもの ─ 3書類

#### ✅ 7-① ハラスメントの防止のための方針がわかるもの（就業規則等）
- **内容**: 事業所のハラスメント防止方針
- **生成ロジック**: 厚労省モデル就業規則ベースのテンプレート → 事業所情報差し込み

#### ✅ 7-② 苦情・相談に対応するための体制がわかるもの
- **内容**: 対応担当者・相談窓口・相談フローチャート
- **生成ロジック**: 職員マスタから担当者を設定 → フローチャートテンプレートに差し込み

#### ✅ 7-③ ハラスメントの防止のための取組に関するもの
- **内容**: 取組の実施記録
- **生成ロジック**: 研修記録や啓発資料の配布記録として生成

---

## 🔢 自動生成の実行順序（実績起点）

```
❶ 1-① 勤務予定・実績一覧表（全書類の基盤）
  ↓
❷ 1-② タイムカード（勤務一覧と完全一致）
  ↓
❸ 1-③ 雇用契約書（登録情報から生成）
  ↓
❹ 1-⑦ 給与支給簿（勤務実績×時給で算出）
  ↓
❺ 2-④ 市区町村への契約内容報告（台帳から転記）
  ↓
❻ 2-⑤ アセスメント（実績→課題を逆算）
  ↓
❼ 2-⑦ 担当者会議録（計画→会議体裁で生成）
  ↓
❽ 3-③ 法定代理受領通知（請求データから転記）
  ↓
❾ 4-① 研修記録（空き時間に自動配置）
  ↓
❿ 6-①〜⑤ 身体拘束適正化（5書類一括生成）
  ↓
⓫ 7-①〜③ ハラスメント防止（3書類一括生成）
```

---

## 📅 日付整合ルール（全書類共通で自動適用）

| ルール | 内容 |
|---|---|
| アセスメント日 ＜ 計画開始日 | アセスが先、計画が後 |
| 担当者会議日 ≒ 計画開始日 | 計画開始と同日または直前 |
| 研修日時 ≠ ケア時間帯 | ケア中に研修を入れない |
| タイムカード ＝ 勤務一覧 | 完全一致させる |
| 法定代理受領通知 → 請求確定後 | 国保連支払い確定後に発行 |

---

## ⚡ 矛盾検知・自動解決

| 矛盾パターン | 自動解決 |
|---|---|
| ケア中に研修予定あり | 研修を空き時間に移動 |
| アセス日 ＞ 計画日 | アセス日を計画日-7日に設定 |
| タイムカードと実績が不一致 | 実績基準でタイムカード修正 |
| 無資格者が身体介護に配置 | アラート＋代替ヘルパー提案 |
| 給与計算と勤務時間が不整合 | 勤務一覧基準で再計算 |

---

## 🔧 開発方針

- **Claude Code** で開発
- **Google Apps Script** をベースに、Googleスプレッドシート/ドキュメントと連携
- テンプレートは **Googleドキュメント** で管理し、差し込み生成
- かんたん介護のデータは **CSV/PDFエクスポート** から取得
- 書類間の整合性チェックは **自動検証スクリプト** で実装
- AIによる文章生成部分は **Gemini API** を活用

---

## 📋 手動準備が必要な書類（参考）

以下の書類はデータの性質上、自動生成の対象外とし手動で準備する。

| 番号 | 書類名 | 理由 |
|---|---|---|
| 1-④ | 資格が確認できるもの | 原本コピーが必要 |
| 1-⑤ | 健康診断の記録 | 医療機関発行の原本 |
| 1-⑥ | 秘密保持の誓約書 | 本人署名が必要 |
| 1-⑧ | 社会保険の適用確認 | 行政発行書類 |
| 2-① | 契約書 | 本人署名・押印が必要 |
| 2-② | 個人情報同意書 | 本人署名が必要 |
| 2-③ | 受給者証の写し | 原本コピー |
| 2-⑥ | サービス提供に関する計画 | サ責が個別に作成 |
| 2-⑧ | モニタリング記録 | サ責が個別に評価 |
| 2-⑨ | 医療機関等との連携記録 | 外部との実際のやり取り |
| 2-⑩ | サービス提供記録（日誌） | ヘルパーが現場で記入 |
| 2-⑪ | サービス提供実績記録票 | かんたん介護で作成済み |
| 3-① | 請求書・明細書 | かんたん介護で作成済み |
| 3-② | 利用者負担額の請求書・領収書 | 個別発行 |
| 4-②〜⑫ | 業務日誌・苦情記録・事故報告等 | 発生都度の記録 |
| 5-①〜⑤ | 虐待防止関連 | 委員会運営の実態記録 |
